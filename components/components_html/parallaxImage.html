<!-- Reviews Section V2 -->
<section class="relative text-white py-48 px-6 md:px-10 lg:px-20 overflow-hidden">
  <!-- Parallax Image Section -->
  <div class="parallax-bg-review absolute top-0 left-0 z-[-1] h-full w-full bg-cover bg-center" style="background-image: url('../assets/public/images/parallax-index-image.jpg');"></div>

  <!-- Reviews - v2 -->
  <div class="relative w-full mx-auto overflow-hidden hidden md:block lg:block">
    <div id="review-slider" class="flex transition-transform duration-500 ease-in-out"
        data-total-slides="<%= Math.ceil(reviews.length / 3) %>">
      <% for (let i = 0; i < reviews.length; i += 3) { %>
        <div class="flex w-full flex-shrink-0 gap-4 px-2 justify-start"> <!-- Added px-2 for padding -->

          <% reviews.slice(i, i + 3).forEach(review => { %>
            <div class="w-1/3 p-6 bg-gray-800 shadow-lg rounded-lg flex flex-col items-center text-center hover:translate-y-4 transition-transform duration-300 ease-in-out">
              <!-- Author and Date -->
              <p class="text-white font-semibold"><%= review.name %></p>
              <p class="text-white text-sm"><%= review.date %></p>

              <!-- Star Rating -->
              <div class="flex justify-center my-2">
                <% for (let j = 0; j < 5; j++) { %>
                  <% if (j < review.rating.length) { %>
                    <i class="fa-solid fa-star text-yellow-400"></i>
                  <% } else { %>
                    <i class="fa-regular fa-star text-white"></i>
                  <% } %>
                <% } %>
              </div>

              <!-- Review Text -->
              <div class="review-content w-full text-left">
                <div class="review-text-container relative">
                  <p class="text-white review-text clamp-3">
                    "<%= review.text %>"
                  </p>
                  <% if (review.text.length > 150) { %> 
                    <button class="read-more-btn text-blue-500 hover:underline mt-2">Read More</button>
                  <% } %>
                </div>
              </div>

            </div>
          <% }); %>

        </div>
      <% } %>
    </div>
  </div>  

  <!-- Reviews - v2 - mobile -->
  <div class="relative w-full mx-auto overflow-hidden block md:hidden lg:hidden">
    <div id="review-slider-mobile" class="flex transition-transform duration-500 ease-in-out"
        data-total-slides="<%= reviews.length %>">
      <% for (let i = 0; i < reviews.length; i += 1) { %>
        <div class="flex w-full flex-shrink-0 gap-4 px-2 justify-start"> <!-- Added px-2 for padding -->

          <% reviews.slice(i, i + 1).forEach(review => { %>
            <div class="w-full p-6 bg-gray-800 shadow-lg rounded-lg flex flex-col items-center text-center hover:translate-y-4 transition-transform duration-300 ease-in-out">
              <!-- Author and Date -->
              <p class="text-white font-semibold"><%= review.name %></p>
              <p class="text-white text-sm"><%= review.date %></p>

              <!-- Star Rating -->
              <div class="flex justify-center my-2">
                <% for (let j = 0; j < 5; j++) { %>
                  <% if (j < review.rating.length) { %>
                    <i class="fa-solid fa-star text-yellow-400"></i>
                  <% } else { %>
                    <i class="fa-regular fa-star text-white"></i>
                  <% } %>
                <% } %>
              </div>

              <!-- Review Text -->
              <div class="review-content w-full text-left">
                <div class="review-text-container relative">
                  <p class="text-white review-text clamp-3">
                    "<%= review.text %>"
                  </p>
                  <% if (review.text.length > 150) { %> 
                    <button class="read-more-btn-mobile text-blue-500 hover:underline mt-2">Read More</button>
                  <% } %>
                </div>
              </div>

            </div>
          <% }); %>

        </div>
      <% } %>
    </div>
  </div>  
  
</section>